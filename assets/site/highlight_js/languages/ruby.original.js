function ruby(hljs) {
    const regex = hljs.regex;
    const RUBY_METHOD_RE = '([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)';
    const CLASS_NAME_RE = regex.either(/\b([A-Z]+[a-z0-9]+)+/, /\b([A-Z]+[a-z0-9]+)+[A-Z]+/);
    const CLASS_NAME_WITH_NAMESPACE_RE = regex.concat(CLASS_NAME_RE, /(::\w+)*/);
    const PSEUDO_KWS = [
        "include",
        "extend",
        "prepend",
        "public",
        "private",
        "protected",
        "raise",
        "throw"
    ];
    const RUBY_KEYWORDS = {
        "variable.constant": [
            "__FILE__",
            "__LINE__",
            "__ENCODING__"
        ],
        "variable.language": [
            "self",
            "super",
        ],
        keyword: [
            "alias",
            "and",
            "begin",
            "BEGIN",
            "break",
            "case",
            "class",
            "defined",
            "do",
            "else",
            "elsif",
            "end",
            "END",
            "ensure",
            "for",
            "if",
            "in",
            "module",
            "next",
            "not",
            "or",
            "redo",
            "require",
            "rescue",
            "retry",
            "return",
            "then",
            "undef",
            "unless",
            "until",
            "when",
            "while",
            "yield",
            ...PSEUDO_KWS
        ],
        built_in: [
            "proc",
            "lambda",
            "attr_accessor",
            "attr_reader",
            "attr_writer",
            "define_method",
            "private_constant",
            "module_function"
        ],
        literal: [
            "true",
            "false",
            "nil"
        ]
    };
    const YARDOCTAG = {
        className: 'doctag',
        begin: '@[A-Za-z]+'
    };
    const IRB_OBJECT = {
        begin: '#<',
        end: '>'
    };
    const COMMENT_MODES = [
        hljs.COMMENT('#', '$', { contains: [YARDOCTAG] }),
        hljs.COMMENT('^=begin', '^=end', {
            contains: [YARDOCTAG],
            relevance: 10
        }),
        hljs.COMMENT('^__END__', hljs.MATCH_NOTHING_RE)
    ];
    const SUBST = {
        className: 'subst',
        begin: /#\{/,
        end: /\}/,
        keywords: RUBY_KEYWORDS
    };
    const STRING = {
        className: 'string',
        contains: [
            hljs.BACKSLASH_ESCAPE,
            SUBST
        ],
        variants: [
            {
                begin: /'/,
                end: /'/
            },
            {
                begin: /"/,
                end: /"/
            },
            {
                begin: /`/,
                end: /`/
            },
            {
                begin: /%[qQwWx]?\(/,
                end: /\)/
            },
            {
                begin: /%[qQwWx]?\[/,
                end: /\]/
            },
            {
                begin: /%[qQwWx]?\{/,
                end: /\}/
            },
            {
                begin: /%[qQwWx]?</,
                end: />/
            },
            {
                begin: /%[qQwWx]?\//,
                end: /\//
            },
            {
                begin: /%[qQwWx]?%/,
                end: /%/
            },
            {
                begin: /%[qQwWx]?-/,
                end: /-/
            },
            {
                begin: /%[qQwWx]?\|/,
                end: /\|/
            },
            { begin: /\B\?(\\\d{1,3})/ },
            { begin: /\B\?(\\x[A-Fa-f0-9]{1,2})/ },
            { begin: /\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/ },
            { begin: /\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/ },
            { begin: /\B\?\\(c|C-)[\x20-\x7e]/ },
            { begin: /\B\?\\?\S/ },
            {
                begin: regex.concat(/<<[-~]?'?/, regex.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),
                contains: [
                    hljs.END_SAME_AS_BEGIN({
                        begin: /(\w+)/,
                        end: /(\w+)/,
                        contains: [
                            hljs.BACKSLASH_ESCAPE,
                            SUBST
                        ]
                    })
                ]
            }
        ]
    };
    const decimal = '[1-9](_?[0-9])*|0';
    const digits = '[0-9](_?[0-9])*';
    const NUMBER = {
        className: 'number',
        relevance: 0,
        variants: [
            { begin: `\\b(${decimal})(\\.(${digits}))?([eE][+-]?(${digits})|r)?i?\\b` },
            { begin: "\\b0[dD][0-9](_?[0-9])*r?i?\\b" },
            { begin: "\\b0[bB][0-1](_?[0-1])*r?i?\\b" },
            { begin: "\\b0[oO][0-7](_?[0-7])*r?i?\\b" },
            { begin: "\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b" },
            { begin: "\\b0(_?[0-7])+r?i?\\b" }
        ]
    };
    const PARAMS = {
        variants: [
            {
                match: /\(\)/,
            },
            {
                className: 'params',
                begin: /\(/,
                end: /(?=\))/,
                excludeBegin: true,
                endsParent: true,
                keywords: RUBY_KEYWORDS,
            }
        ]
    };
    const INCLUDE_EXTEND = {
        match: [
            /(include|extend)\s+/,
            CLASS_NAME_WITH_NAMESPACE_RE
        ],
        scope: {
            2: "title.class"
        },
        keywords: RUBY_KEYWORDS
    };
    const CLASS_DEFINITION = {
        variants: [
            {
                match: [
                    /class\s+/,
                    CLASS_NAME_WITH_NAMESPACE_RE,
                    /\s+<\s+/,
                    CLASS_NAME_WITH_NAMESPACE_RE
                ]
            },
            {
                match: [
                    /\b(class|module)\s+/,
                    CLASS_NAME_WITH_NAMESPACE_RE
                ]
            }
        ],
        scope: {
            2: "title.class",
            4: "title.class.inherited"
        },
        keywords: RUBY_KEYWORDS
    };
    const UPPER_CASE_CONSTANT = {
        relevance: 0,
        match: /\b[A-Z][A-Z_0-9]+\b/,
        className: "variable.constant"
    };
    const METHOD_DEFINITION = {
        match: [
            /def/, /\s+/,
            RUBY_METHOD_RE
        ],
        scope: {
            1: "keyword",
            3: "title.function"
        },
        contains: [
            PARAMS
        ]
    };
    const OBJECT_CREATION = {
        relevance: 0,
        match: [
            CLASS_NAME_WITH_NAMESPACE_RE,
            /\.new[. (]/
        ],
        scope: {
            1: "title.class"
        }
    };
    const CLASS_REFERENCE = {
        relevance: 0,
        match: CLASS_NAME_RE,
        scope: "title.class"
    };
    const RUBY_DEFAULT_CONTAINS = [
        STRING,
        CLASS_DEFINITION,
        INCLUDE_EXTEND,
        OBJECT_CREATION,
        UPPER_CASE_CONSTANT,
        CLASS_REFERENCE,
        METHOD_DEFINITION,
        {
            begin: hljs.IDENT_RE + '::'
        },
        {
            className: 'symbol',
            begin: hljs.UNDERSCORE_IDENT_RE + '(!|\\?)?:',
            relevance: 0
        },
        {
            className: 'symbol',
            begin: ':(?!\\s)',
            contains: [
                STRING,
                { begin: RUBY_METHOD_RE }
            ],
            relevance: 0
        },
        NUMBER,
        {
            className: "variable",
            begin: '(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])' + `(?![A-Za-z])(?![@$?'])`
        },
        {
            className: 'params',
            begin: /\|/,
            end: /\|/,
            excludeBegin: true,
            excludeEnd: true,
            relevance: 0,
            keywords: RUBY_KEYWORDS
        },
        {
            begin: '(' + hljs.RE_STARTERS_RE + '|unless)\\s*',
            keywords: 'unless',
            contains: [
                {
                    className: 'regexp',
                    contains: [
                        hljs.BACKSLASH_ESCAPE,
                        SUBST
                    ],
                    illegal: /\n/,
                    variants: [
                        {
                            begin: '/',
                            end: '/[a-z]*'
                        },
                        {
                            begin: /%r\{/,
                            end: /\}[a-z]*/
                        },
                        {
                            begin: '%r\\(',
                            end: '\\)[a-z]*'
                        },
                        {
                            begin: '%r!',
                            end: '![a-z]*'
                        },
                        {
                            begin: '%r\\[',
                            end: '\\][a-z]*'
                        }
                    ]
                }
            ].concat(IRB_OBJECT, COMMENT_MODES),
            relevance: 0
        }
    ].concat(IRB_OBJECT, COMMENT_MODES);
    SUBST.contains = RUBY_DEFAULT_CONTAINS;
    PARAMS.contains = RUBY_DEFAULT_CONTAINS;
    const SIMPLE_PROMPT = "[>?]>";
    const DEFAULT_PROMPT = "[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]";
    const RVM_PROMPT = "(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>";
    const IRB_DEFAULT = [
        {
            begin: /^\s*=>/,
            starts: {
                end: '$',
                contains: RUBY_DEFAULT_CONTAINS
            }
        },
        {
            className: 'meta.prompt',
            begin: '^(' + SIMPLE_PROMPT + "|" + DEFAULT_PROMPT + '|' + RVM_PROMPT + ')(?=[ ])',
            starts: {
                end: '$',
                keywords: RUBY_KEYWORDS,
                contains: RUBY_DEFAULT_CONTAINS
            }
        }
    ];
    COMMENT_MODES.unshift(IRB_OBJECT);
    return {
        name: 'Ruby',
        aliases: [
            'rb',
            'gemspec',
            'podspec',
            'thor',
            'irb'
        ],
        keywords: RUBY_KEYWORDS,
        illegal: /\/\*/,
        contains: [hljs.SHEBANG({ binary: "ruby" })]
            .concat(IRB_DEFAULT)
            .concat(COMMENT_MODES)
            .concat(RUBY_DEFAULT_CONTAINS)
    };
}
export { ruby as default };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicnVieS5qcyIsInNvdXJjZVJvb3QiOiJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vQmVsbEN1YmVEZXYvc2l0ZS10ZXN0aW5nL2RlcGxveW1lbnQvIiwic291cmNlcyI6WyJhc3NldHMvc2l0ZS9oaWdobGlnaHRfanMvbGFuZ3VhZ2VzL3J1YnkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBU0EsU0FBUyxJQUFJLENBQUMsSUFBSTtJQUNoQixNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3pCLE1BQU0sY0FBYyxHQUFHLG9GQUFvRixDQUFDO0lBRTVHLE1BQU0sYUFBYSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQ2hDLHNCQUFzQixFQUV0Qiw0QkFBNEIsQ0FDN0IsQ0FDQTtJQUNELE1BQU0sNEJBQTRCLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxhQUFhLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFHN0UsTUFBTSxVQUFVLEdBQUc7UUFDakIsU0FBUztRQUNULFFBQVE7UUFDUixTQUFTO1FBQ1QsUUFBUTtRQUNSLFNBQVM7UUFDVCxXQUFXO1FBQ1gsT0FBTztRQUNQLE9BQU87S0FDUixDQUFDO0lBQ0YsTUFBTSxhQUFhLEdBQUc7UUFDcEIsbUJBQW1CLEVBQUU7WUFDbkIsVUFBVTtZQUNWLFVBQVU7WUFDVixjQUFjO1NBQ2Y7UUFDRCxtQkFBbUIsRUFBRTtZQUNuQixNQUFNO1lBQ04sT0FBTztTQUNSO1FBQ0QsT0FBTyxFQUFFO1lBQ1AsT0FBTztZQUNQLEtBQUs7WUFDTCxPQUFPO1lBQ1AsT0FBTztZQUNQLE9BQU87WUFDUCxNQUFNO1lBQ04sT0FBTztZQUNQLFNBQVM7WUFDVCxJQUFJO1lBQ0osTUFBTTtZQUNOLE9BQU87WUFDUCxLQUFLO1lBQ0wsS0FBSztZQUNMLFFBQVE7WUFDUixLQUFLO1lBQ0wsSUFBSTtZQUNKLElBQUk7WUFDSixRQUFRO1lBQ1IsTUFBTTtZQUNOLEtBQUs7WUFDTCxJQUFJO1lBQ0osTUFBTTtZ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Q3ZCLE9BQU8sRUFBRSxNQUFNO1FBQ2YsUUFBUSxFQUFFLENBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFFO2FBQzNDLE1BQU0sQ0FBQyxXQUFXLENBQUM7YUFDbkIsTUFBTSxDQUFDLGFBQWEsQ0FBQzthQUNyQixNQUFNLENBQUMscUJBQXFCLENBQUM7S0FDakMsQ0FBQztBQUNKLENBQUM7QUFFRCxPQUFPLEVBQUUsSUFBSSxJQUFJLE9BQU8sRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLypcbkxhbmd1YWdlOiBSdWJ5XG5EZXNjcmlwdGlvbjogUnVieSBpcyBhIGR5bmFtaWMsIG9wZW4gc291cmNlIHByb2dyYW1taW5nIGxhbmd1YWdlIHdpdGggYSBmb2N1cyBvbiBzaW1wbGljaXR5IGFuZCBwcm9kdWN0aXZpdHkuXG5XZWJzaXRlOiBodHRwczovL3d3dy5ydWJ5LWxhbmcub3JnL1xuQXV0aG9yOiBBbnRvbiBLb3ZhbHlvdiA8YW50b25Aa292YWx5b3YubmV0PlxuQ29udHJpYnV0b3JzOiBQZXRlciBMZW9ub3YgPGdvanBlZ0B5YW5kZXgucnU+LCBWYXNpbHkgUG9sb3ZueW92IDx2YXN0QHdoaXRlYW50cy5uZXQ+LCBMb3JlbiBTZWdhbCA8bHNlZ2FsQHNvZW4uY2E+LCBQYXNjYWwgSHVybmkgPHBoaUBydWJ5LXJlYWN0aXZlLm9yZz4sIENlZHJpYyBTb2hyYXVlciA8c29ocmF1ZXJAZ29vZ2xlbWFpbC5jb20+XG5DYXRlZ29yeTogY29tbW9uXG4qL1xuXG5mdW5jdGlvbiBydWJ5KGhsanMpIHtcbiAgY29uc3QgcmVnZXggPSBobGpzLnJlZ2V4O1xuICBjb25zdCBSVUJZX01FVEhPRF9SRSA9ICcoW2EtekEtWl9dXFxcXHcqWyE/PV0/fFstK35dQHw8PHw+Pnw9fnw9PT0/fDw9PnxbPD5dPT98XFxcXCpcXFxcKnxbLS8rJV4mKn5gfF18XFxcXFtcXFxcXT0/KSc7XG4gIC8vIFRPRE86IG1vdmUgY29uY2VwdHMgbGlrZSBDQU1FTF9DQVNFIGludG8gYG1vZGVzLmpzYFxuICBjb25zdCBDTEFTU19OQU1FX1JFID0gcmVnZXguZWl0aGVyKFxuICAgIC9cXGIoW0EtWl0rW2EtejAtOV0rKSsvLFxuICAgIC8vIGVuZHMgaW4gY2Fwc1xuICAgIC9cXGIoW0EtWl0rW2EtejAtOV0rKStbQS1aXSsvLFxuICApXG4gIDtcbiAgY29uc3QgQ0xBU1NfTkFNRV9XSVRIX05BTUVTUEFDRV9SRSA9IHJlZ2V4LmNvbmNhdChDTEFTU19OQU1FX1JFLCAvKDo6XFx3KykqLyk7XG4gIC8vIHZlcnkgcG9wdWxhciBydWJ5IGJ1aWx0LWlucyB0aGF0IG9uZSBtaWdodCBldmVuIGFzc3VtZVxuICAvLyBhcmUgYWN0dWFsIGtleXdvcmRzIChkZXNwaXRlIHRoYXQgbm90IGJlaW5nIHRoZSBjYXNlKVxuICBjb25zdCBQU0VVRE9fS1dTID0gW1xuICAgIFwiaW5jbHVkZVwiLFxuICAgIFwiZXh0ZW5kXCIsXG4gICAgXCJwcmVwZW5kXCIsXG4gICAgXCJwdWJsaWNcIixcbiAgICBcInByaXZhdGVcIixcbiAgICBcInByb3RlY3RlZFwiLFxuICAgIFwicmFpc2VcIixcbiAgICBcInRocm93XCJcbiAgXTtcbiAgY29uc3QgUlVCWV9LRVlXT1JEUyA9IHtcbiAgICBcInZhcmlhYmxlLmNvbnN0YW50XCI6IFtcbiAgICAgIFwiX19GSUxFX19cIixcbiAgICAgIFwiX19MSU5FX19cIixcbiAgICAgIFwiX19FTkNPRElOR19fXCJcbiAgICBdLFxuICAgIFwidmFyaWFibGUubGFuZ3VhZ2VcIjogW1xuICAgICAgXCJzZWxmXCIsXG4gICAgICBcInN1cGVyXCIsXG4gICAgXSxcbiAgICBrZXl3b3JkOiBbXG4gICAgICBcImFsaWFzXCIsXG4gICAgICBcImFuZFwiLFxuICAgICAgXCJiZWdpblwiLFxuICAgICAgXCJCRUdJTlwiLFxuICAgICAgXCJicmVha1wiLFxuICAgICAgXCJjYXNlXCIsXG4gICAgICBcImNsYXNzXCIsXG4gICAgICBcImRlZmluZWRcIixcbiAgICAgIFwiZG9cIixcbiAgICAgIFwiZWxzZVwiLFxuICAgICAgXCJlbHNpZlwiLFxuICAgICAgXCJlbmRcIixcbiAgICAgIFwiRU5EXCIsXG4gICAgICBcImVuc3VyZVwiLFxuICAgICAgXCJmb3JcIixcbiAgICAgIFwiaWZcIixcbiAgICAgIFwiaW5cIixcbiAgICAgIFwibW9kdWxlXCIsXG4gICAgICBcIm5leHRcIixcbiAgICAgIFwibm90XCIsXG4gICAgICBcIm9yXCIsXG4gICAgICBcInJlZG9cIixcbiAgICAgIFwicmVxdWlyZVwiLFxuICAgICAgXCJyZXNjdWVcIixcbiAgICAgIFwicmV0cnlcIixcbiAgICAgIFwicmV0dXJuXCIsXG4gICAgICBcInRoZW5cIixcbiAgICAgIFwidW5kZWZcIixcbiAgICAgIFwidW5sZXNzXCIsXG4gICAgICBcInVudGlsXCIsXG4gICAgICBcIndoZW5cIixcbiAgICAgIFwid2hpbGVcIixcbiAgICAgIFwieWllbGRcIixcbiAgICAgIC4uLlBTRVVET19LV1NcbiAgICBdLFxuICAgIGJ1aWx0X2luOiBbXG4gICAgICBcInByb2NcIixcbiAgICAgIFwibGFtYmRhXCIsXG4gICAgICBcImF0dHJfYWNjZXNzb3JcIixcbiAgICAgIFwiYXR0cl9yZWFkZXJcIixcbiAgICAgIFwiYXR0cl93cml0ZXJcIixcbiAgICAgIFwiZGVmaW5lX21ldGhvZFwiLFxuICAgICAgXCJwcml2YXRlX2NvbnN0YW50XCIsXG4gICAgICBcIm1vZHVsZV9mdW5jdGlvblwiXG4gICAgXSxcbiAgICBsaXRlcmFsOiBbXG4gICAgICBcInRydWVcIixcbiAgICAgIFwiZmFsc2VcIixcbiAgICAgIFwibmlsXCJcbiAgICBdXG4gIH07XG4gIGNvbnN0IFlBUkRPQ1RBRyA9IHtcbiAgICBjbGFzc05hbWU6ICdkb2N0YWcnLFxuICAgIGJlZ2luOiAnQFtBLVphLXpdKydcbiAgfTtcbiAgY29uc3QgSVJCX09CSkVDVCA9IHtcbiAgICBiZWdpbjogJyM8JyxcbiAgICBlbmQ6ICc+J1xuICB9O1xuICBjb25zdCBDT01NRU5UX01PREVTID0gW1xuICAgIGhsanMuQ09NTUVOVChcbiAgICAgICcjJyxcbiAgICAgICckJyxcbiAgICAgIHsgY29udGFpbnM6IFsgWUFSRE9DVEFHIF0gfVxuICAgICksXG4gICAgaGxqcy5DT01NRU5UKFxuICAgICAgJ149YmVnaW4nLFxuICAgICAgJ149ZW5kJyxcbiAgICAgIHtcbiAgICAgICAgY29udGFpbnM6IFsgWUFSRE9DVEFHIF0sXG4gICAgICAgIHJlbGV2YW5jZTogMTBcbiAgICAgIH1cbiAgICApLFxuICAgIGhsanMuQ09NTUVOVCgnXl9fRU5EX18nLCBobGpzLk1BVENIX05PVEhJTkdfUkUpXG4gIF07XG4gIGNvbnN0IFNVQlNUID0ge1xuICAgIGNsYXNzTmFtZTogJ3N1YnN0JyxcbiAgICBiZWdpbjogLyNcXHsvLFxuICAgIGVuZDogL1xcfS8sXG4gICAga2V5d29yZHM6IFJVQllfS0VZV09SRFNcbiAgfTtcbiAgY29uc3QgU1RSSU5HID0ge1xuICAgIGNsYXNzTmFtZTogJ3N0cmluZycsXG4gICAgY29udGFpbnM6IFtcbiAgICAgIGhsanMuQkFDS1NMQVNIX0VTQ0FQRSxcbiAgICAgIFNVQlNUXG4gICAgXSxcbiAgICB2YXJpYW50czogW1xuICAgICAge1xuICAgICAgICBiZWdpbjogLycvLFxuICAgICAgICBlbmQ6IC8nL1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgYmVnaW46IC9cIi8sXG4gICAgICAgIGVuZDogL1wiL1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgYmVnaW46IC9gLyxcbiAgICAgICAgZW5kOiAvYC9cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGJlZ2luOiAvJVtxUXdXeF0/XFwoLyxcbiAgICAgICAgZW5kOiAvXFwpL1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgYmVnaW46IC8lW3FRd1d4XT9cXFsvLFxuICAgICAgICBlbmQ6IC9cXF0vXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBiZWdpbjogLyVbcVF3V3hdP1xcey8sXG4gICAgICAgIGVuZDogL1xcfS9cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGJlZ2luOiAvJVtxUXdXeF0/PC8sXG4gICAgICAgIGVuZDogLz4vXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBiZWdpbjogLyVbcVF3V3hdP1xcLy8sXG4gICAgICAgIGVuZDogL1xcLy9cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGJlZ2luOiAvJVtxUXdXeF0/JS8sXG4gICAgICAgIGVuZDogLyUvXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBiZWdpbjogLyVbcVF3V3hdPy0vLFxuICAgICAgICBlbmQ6IC8tL1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgYmVnaW46IC8lW3FRd1d4XT9cXHwvLFxuICAgICAgICBlbmQ6IC9cXHwvXG4gICAgICB9LFxuICAgICAgLy8gaW4gdGhlIGZvbGxvd2luZyBleHByZXNzaW9ucywgXFxCIGluIHRoZSBiZWdpbm5pbmcgc3VwcHJlc3NlcyByZWNvZ25pdGlvbiBvZiA/LXNlcXVlbmNlc1xuICAgICAgLy8gd2hlcmUgPyBpcyB0aGUgbGFzdCBjaGFyYWN0ZXIgb2YgYSBwcmVjZWRpbmcgaWRlbnRpZmllciwgYXMgaW46IGBmdW5jPzRgXG4gICAgICB7IGJlZ2luOiAvXFxCXFw/KFxcXFxcXGR7MSwzfSkvIH0sXG4gICAgICB7IGJlZ2luOiAvXFxCXFw/KFxcXFx4W0EtRmEtZjAtOV17MSwyfSkvIH0sXG4gICAgICB7IGJlZ2luOiAvXFxCXFw/KFxcXFx1XFx7P1tBLUZhLWYwLTldezEsNn1cXH0/KS8gfSxcbiAgICAgIHsgYmVnaW46IC9cXEJcXD8oXFxcXE0tXFxcXEMtfFxcXFxNLVxcXFxjfFxcXFxjXFxcXE0tfFxcXFxNLXxcXFxcQy1cXFxcTS0pW1xceDIwLVxceDdlXS8gfSxcbiAgICAgIHsgYmVnaW46IC9cXEJcXD9cXFxcKGN8Qy0pW1xceDIwLVxceDdlXS8gfSxcbiAgICAgIHsgYmVnaW46IC9cXEJcXD9cXFxcP1xcUy8gfSxcbiAgICAgIC8vIGhlcmVkb2NzXG4gICAgICB7XG4gICAgICAgIC8vIHRoaXMgZ3VhcmQgbWFrZXMgc3VyZSB0aGF0IHdlIGhhdmUgYW4gZW50aXJlIGhlcmVkb2MgYW5kIG5vdCBhIGZhbHNlXG4gICAgICAgIC8vIHBvc2l0aXZlIChhdXRvLWRldGVjdCwgZXRjLilcbiAgICAgICAgYmVnaW46IHJlZ2V4LmNvbmNhdChcbiAgICAgICAgICAvPDxbLX5dPyc/LyxcbiAgICAgICAgICByZWdleC5sb29rYWhlYWQoLyhcXHcrKSg/PVxcVylbXlxcbl0qXFxuKD86W15cXG5dKlxcbikqP1xccypcXDFcXGIvKVxuICAgICAgICApLFxuICAgICAgICBjb250YWluczogW1xuICAgICAgICAgIGhsanMuRU5EX1NBTUVfQVNfQkVHSU4oe1xuICAgICAgICAgICAgYmVnaW46IC8oXFx3KykvLFxuICAgICAgICAgICAgZW5kOiAvKFxcdyspLyxcbiAgICAgICAgICAgIGNvbnRhaW5zOiBbXG4gICAgICAgICAgICAgIGhsanMuQkFDS1NMQVNIX0VTQ0FQRSxcbiAgICAgICAgICAgICAgU1VCU1RcbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9KVxuICAgICAgICBdXG4gICAgICB9XG4gICAgXVxuICB9O1xuXG4gIC8vIFJ1Ynkgc3ludGF4IGlzIHVuZGVyZG9jdW1lbnRlZCwgYnV0IHRoaXMgZ3JhbW1hciBzZWVtcyB0byBiZSBhY2N1cmF0ZVxuICAvLyBhcyBvZiB2ZXJzaW9uIDIuNy4yIChjb25maXJtZWQgd2l0aCAoaXJiIGFuZCBgUmlwcGVyLnNleHAoLi4uKWApXG4gIC8vIGh0dHBzOi8vZG9jcy5ydWJ5LWxhbmcub3JnL2VuLzIuNy4wL2RvYy9zeW50YXgvbGl0ZXJhbHNfcmRvYy5odG1sI2xhYmVsLU51bWJlcnNcbiAgY29uc3QgZGVjaW1hbCA9ICdbMS05XShfP1swLTldKSp8MCc7XG4gIGNvbnN0IGRpZ2l0cyA9ICdbMC05XShfP1swLTldKSonO1xuICBjb25zdCBOVU1CRVIgPSB7XG4gICAgY2xhc3NOYW1lOiAnbnVtYmVyJyxcbiAgICByZWxldmFuY2U6IDAsXG4gICAgdmFyaWFudHM6IFtcbiAgICAgIC8vIGRlY2ltYWwgaW50ZWdlci9mbG9hdCwgb3B0aW9uYWxseSBleHBvbmVudGlhbCBvciByYXRpb25hbCwgb3B0aW9uYWxseSBpbWFnaW5hcnlcbiAgICAgIHsgYmVnaW46IGBcXFxcYigke2RlY2ltYWx9KShcXFxcLigke2RpZ2l0c30pKT8oW2VFXVsrLV0/KCR7ZGlnaXRzfSl8cik/aT9cXFxcYmAgfSxcblxuICAgICAgLy8gZXhwbGljaXQgZGVjaW1hbC9iaW5hcnkvb2N0YWwvaGV4YWRlY2ltYWwgaW50ZWdlcixcbiAgICAgIC8vIG9wdGlvbmFsbHkgcmF0aW9uYWwgYW5kL29yIGltYWdpbmFyeVxuICAgICAgeyBiZWdpbjogXCJcXFxcYjBbZERdWzAtOV0oXz9bMC05XSkqcj9pP1xcXFxiXCIgfSxcbiAgICAgIHsgYmVnaW46IFwiXFxcXGIwW2JCXVswLTFdKF8/WzAtMV0pKnI/aT9cXFxcYlwiIH0sXG4gICAgICB7IGJlZ2luOiBcIlxcXFxiMFtvT11bMC03XShfP1swLTddKSpyP2k/XFxcXGJcIiB9LFxuICAgICAgeyBiZWdpbjogXCJcXFxcYjBbeFhdWzAtOWEtZkEtRl0oXz9bMC05YS1mQS1GXSkqcj9pP1xcXFxiXCIgfSxcblxuICAgICAgLy8gMC1wcmVmaXhlZCBpbXBsaWNpdCBvY3RhbCBpbnRlZ2VyLCBvcHRpb25hbGx5IHJhdGlvbmFsIGFuZC9vciBpbWFnaW5hcnlcbiAgICAgIHsgYmVnaW46IFwiXFxcXGIwKF8/WzAtN10pK3I/aT9cXFxcYlwiIH1cbiAgICBdXG4gIH07XG5cbiAgY29uc3QgUEFSQU1TID0ge1xuICAgIHZhcmlhbnRzOiBbXG4gICAgICB7XG4gICAgICAgIG1hdGNoOiAvXFwoXFwpLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogJ3BhcmFtcycsXG4gICAgICAgIGJlZ2luOiAvXFwoLyxcbiAgICAgICAgZW5kOiAvKD89XFwpKS8sXG4gICAgICAgIGV4Y2x1ZGVCZWdpbjogdHJ1ZSxcbiAgICAgICAgZW5kc1BhcmVudDogdHJ1ZSxcbiAgICAgICAga2V5d29yZHM6IFJVQllfS0VZV09SRFMsXG4gICAgICB9XG4gICAgXVxuICB9O1xuXG4gIGNvbnN0IElOQ0xVREVfRVhURU5EID0ge1xuICAgIG1hdGNoOiBbXG4gICAgICAvKGluY2x1ZGV8ZXh0ZW5kKVxccysvLFxuICAgICAgQ0xBU1NfTkFNRV9XSVRIX05BTUVTUEFDRV9SRVxuICAgIF0sXG4gICAgc2NvcGU6IHtcbiAgICAgIDI6IFwidGl0bGUuY2xhc3NcIlxuICAgIH0sXG4gICAga2V5d29yZHM6IFJVQllfS0VZV09SRFNcbiAgfTtcblxuICBjb25zdCBDTEFTU19ERUZJTklUSU9OID0ge1xuICAgIHZhcmlhbnRzOiBbXG4gICAgICB7XG4gICAgICAgIG1hdGNoOiBbXG4gICAgICAgICAgL2NsYXNzXFxzKy8sXG4gICAgICAgICAgQ0xBU1NfTkFNRV9XSVRIX05BTUVTUEFDRV9SRSxcbiAgICAgICAgICAvXFxzKzxcXHMrLyxcbiAgICAgICAgICBDTEFTU19OQU1FX1dJVEhfTkFNRVNQQUNFX1JFXG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG1hdGNoOiBbXG4gICAgICAgICAgL1xcYihjbGFzc3xtb2R1bGUpXFxzKy8sXG4gICAgICAgICAgQ0xBU1NfTkFNRV9XSVRIX05BTUVTUEFDRV9SRVxuICAgICAgICBdXG4gICAgICB9XG4gICAgXSxcbiAgICBzY29wZToge1xuICAgICAgMjogXCJ0aXRsZS5jbGFzc1wiLFxuICAgICAgNDogXCJ0aXRsZS5jbGFzcy5pbmhlcml0ZWRcIlxuICAgIH0sXG4gICAga2V5d29yZHM6IFJVQllfS0VZV09SRFNcbiAgfTtcblxuICBjb25zdCBVUFBFUl9DQVNFX0NPTlNUQU5UID0ge1xuICAgIHJlbGV2YW5jZTogMCxcbiAgICBtYXRjaDogL1xcYltBLVpdW0EtWl8wLTldK1xcYi8sXG4gICAgY2xhc3NOYW1lOiBcInZhcmlhYmxlLmNvbnN0YW50XCJcbiAgfTtcblxuICBjb25zdCBNRVRIT0RfREVGSU5JVElPTiA9IHtcbiAgICBtYXRjaDogW1xuICAgICAgL2RlZi8sIC9cXHMrLyxcbiAgICAgIFJVQllfTUVUSE9EX1JFXG4gICAgXSxcbiAgICBzY29wZToge1xuICAgICAgMTogXCJrZXl3b3JkXCIsXG4gICAgICAzOiBcInRpdGxlLmZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIGNvbnRhaW5zOiBbXG4gICAgICBQQVJBTVNcbiAgICBdXG4gIH07XG5cbiAgY29uc3QgT0JKRUNUX0NSRUFUSU9OID0ge1xuICAgIHJlbGV2YW5jZTogMCxcbiAgICBtYXRjaDogW1xuICAgICAgQ0xBU1NfTkFNRV9XSVRIX05BTUVTUEFDRV9SRSxcbiAgICAgIC9cXC5uZXdbLiAoXS9cbiAgICBdLFxuICAgIHNjb3BlOiB7XG4gICAgICAxOiBcInRpdGxlLmNsYXNzXCJcbiAgICB9XG4gIH07XG5cbiAgLy8gQ2FtZWxDYXNlXG4gIGNvbnN0IENMQVNTX1JFRkVSRU5DRSA9IHtcbiAgICByZWxldmFuY2U6IDAsXG4gICAgbWF0Y2g6IENMQVNTX05BTUVfUkUsXG4gICAgc2NvcGU6IFwidGl0bGUuY2xhc3NcIlxuICB9O1xuXG4gIGNvbnN0IFJVQllfREVGQVVMVF9DT05UQUlOUyA9IFtcbiAgICBTVFJJTkcsXG4gICAgQ0xBU1NfREVGSU5JVElPTixcbiAgICBJTkNMVURFX0VYVEVORCxcbiAgICBPQkpFQ1RfQ1JFQVRJT04sXG4gICAgVVBQRVJfQ0FTRV9DT05TVEFOVCxcbiAgICBDTEFTU19SRUZFUkVOQ0UsXG4gICAgTUVUSE9EX0RFRklOSVRJT04sXG4gICAge1xuICAgICAgLy8gc3dhbGxvdyBuYW1lc3BhY2UgcXVhbGlmaWVycyBiZWZvcmUgc3ltYm9sc1xuICAgICAgYmVnaW46IGhsanMuSURFTlRfUkUgKyAnOjonIH0sXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiAnc3ltYm9sJyxcbiAgICAgIGJlZ2luOiBobGpzLlVOREVSU0NPUkVfSURFTlRfUkUgKyAnKCF8XFxcXD8pPzonLFxuICAgICAgcmVsZXZhbmNlOiAwXG4gICAgfSxcbiAgICB7XG4gICAgICBjbGFzc05hbWU6ICdzeW1ib2wnLFxuICAgICAgYmVnaW46ICc6KD8hXFxcXHMpJyxcbiAgICAgIGNvbnRhaW5zOiBbXG4gICAgICAgIFNUUklORyxcbiAgICAgICAgeyBiZWdpbjogUlVCWV9NRVRIT0RfUkUgfVxuICAgICAgXSxcbiAgICAgIHJlbGV2YW5jZTogMFxuICAgIH0sXG4gICAgTlVNQkVSLFxuICAgIHtcbiAgICAgIC8vIG5lZ2F0aXZlLWxvb2sgZm9yd2FyZCBhdHRlbXB0cyB0byBwcmV2ZW50IGZhbHNlIG1hdGNoZXMgbGlrZTpcbiAgICAgIC8vIEBpZGVudEAgb3IgJGlkZW50JCB0aGF0IG1pZ2h0IGluZGljYXRlIHRoaXMgaXMgbm90IHJ1YnkgYXQgYWxsXG4gICAgICBjbGFzc05hbWU6IFwidmFyaWFibGVcIixcbiAgICAgIGJlZ2luOiAnKFxcXFwkXFxcXFcpfCgoXFxcXCR8QEA/KShcXFxcdyspKSg/PVteQCQ/XSknICsgYCg/IVtBLVphLXpdKSg/IVtAJD8nXSlgXG4gICAgfSxcbiAgICB7XG4gICAgICBjbGFzc05hbWU6ICdwYXJhbXMnLFxuICAgICAgYmVnaW46IC9cXHwvLFxuICAgICAgZW5kOiAvXFx8LyxcbiAgICAgIGV4Y2x1ZGVCZWdpbjogdHJ1ZSxcbiAgICAgIGV4Y2x1ZGVFbmQ6IHRydWUsXG4gICAgICByZWxldmFuY2U6IDAsIC8vIHRoaXMgY291bGQgYmUgYSBsb3Qgb2YgdGhpbmdzIChpbiBvdGhlciBsYW5ndWFnZXMpIG90aGVyIHRoYW4gcGFyYW1zXG4gICAgICBrZXl3b3JkczogUlVCWV9LRVlXT1JEU1xuICAgIH0sXG4gICAgeyAvLyByZWdleHAgY29udGFpbmVyXG4gICAgICBiZWdpbjogJygnICsgaGxqcy5SRV9TVEFSVEVSU19SRSArICd8dW5sZXNzKVxcXFxzKicsXG4gICAgICBrZXl3b3JkczogJ3VubGVzcycsXG4gICAgICBjb250YWluczogW1xuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiAncmVnZXhwJyxcbiAgICAgICAgICBjb250YWluczogW1xuICAgICAgICAgICAgaGxqcy5CQUNLU0xBU0hfRVNDQVBFLFxuICAgICAgICAgICAgU1VCU1RcbiAgICAgICAgICBdLFxuICAgICAgICAgIGlsbGVnYWw6IC9cXG4vLFxuICAgICAgICAgIHZhcmlhbnRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGJlZ2luOiAnLycsXG4gICAgICAgICAgICAgIGVuZDogJy9bYS16XSonXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBiZWdpbjogLyVyXFx7LyxcbiAgICAgICAgICAgICAgZW5kOiAvXFx9W2Etel0qL1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYmVnaW46ICclclxcXFwoJyxcbiAgICAgICAgICAgICAgZW5kOiAnXFxcXClbYS16XSonXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBiZWdpbjogJyVyIScsXG4gICAgICAgICAgICAgIGVuZDogJyFbYS16XSonXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBiZWdpbjogJyVyXFxcXFsnLFxuICAgICAgICAgICAgICBlbmQ6ICdcXFxcXVthLXpdKidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIF0uY29uY2F0KElSQl9PQkpFQ1QsIENPTU1FTlRfTU9ERVMpLFxuICAgICAgcmVsZXZhbmNlOiAwXG4gICAgfVxuICBdLmNvbmNhdChJUkJfT0JKRUNULCBDT01NRU5UX01PREVTKTtcblxuICBTVUJTVC5jb250YWlucyA9IFJVQllfREVGQVVMVF9DT05UQUlOUztcbiAgUEFSQU1TLmNvbnRhaW5zID0gUlVCWV9ERUZBVUxUX0NPTlRBSU5TO1xuXG4gIC8vID4+XG4gIC8vID8+XG4gIGNvbnN0IFNJTVBMRV9QUk9NUFQgPSBcIls+P10+XCI7XG4gIC8vIGlyYihtYWluKTowMDE6MD5cbiAgY29uc3QgREVGQVVMVF9QUk9NUFQgPSBcIltcXFxcdyNdK1xcXFwoXFxcXHcrXFxcXCk6XFxcXGQrOlxcXFxkK1s+Kl1cIjtcbiAgY29uc3QgUlZNX1BST01QVCA9IFwiKFxcXFx3Ky0pP1xcXFxkK1xcXFwuXFxcXGQrXFxcXC5cXFxcZCsocFxcXFxkKyk/W15cXFxcZF1bXj5dKz5cIjtcblxuICBjb25zdCBJUkJfREVGQVVMVCA9IFtcbiAgICB7XG4gICAgICBiZWdpbjogL15cXHMqPT4vLFxuICAgICAgc3RhcnRzOiB7XG4gICAgICAgIGVuZDogJyQnLFxuICAgICAgICBjb250YWluczogUlVCWV9ERUZBVUxUX0NPTlRBSU5TXG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBjbGFzc05hbWU6ICdtZXRhLnByb21wdCcsXG4gICAgICBiZWdpbjogJ14oJyArIFNJTVBMRV9QUk9NUFQgKyBcInxcIiArIERFRkFVTFRfUFJPTVBUICsgJ3wnICsgUlZNX1BST01QVCArICcpKD89WyBdKScsXG4gICAgICBzdGFydHM6IHtcbiAgICAgICAgZW5kOiAnJCcsXG4gICAgICAgIGtleXdvcmRzOiBSVUJZX0tFWVdPUkRTLFxuICAgICAgICBjb250YWluczogUlVCWV9ERUZBVUxUX0NPTlRBSU5TXG4gICAgICB9XG4gICAgfVxuICBdO1xuXG4gIENPTU1FTlRfTU9ERVMudW5zaGlmdChJUkJfT0JKRUNUKTtcblxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdSdWJ5JyxcbiAgICBhbGlhc2VzOiBbXG4gICAgICAncmInLFxuICAgICAgJ2dlbXNwZWMnLFxuICAgICAgJ3BvZHNwZWMnLFxuICAgICAgJ3Rob3InLFxuICAgICAgJ2lyYidcbiAgICBdLFxuICAgIGtleXdvcmRzOiBSVUJZX0tFWVdPUkRTLFxuICAgIGlsbGVnYWw6IC9cXC9cXCovLFxuICAgIGNvbnRhaW5zOiBbIGhsanMuU0hFQkFORyh7IGJpbmFyeTogXCJydWJ5XCIgfSkgXVxuICAgICAgLmNvbmNhdChJUkJfREVGQVVMVClcbiAgICAgIC5jb25jYXQoQ09NTUVOVF9NT0RFUylcbiAgICAgIC5jb25jYXQoUlVCWV9ERUZBVUxUX0NPTlRBSU5TKVxuICB9O1xufVxuXG5leHBvcnQgeyBydWJ5IGFzIGRlZmF1bHQgfTtcbiJdfQ==