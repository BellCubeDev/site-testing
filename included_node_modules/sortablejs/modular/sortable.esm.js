var tt,et,ot,nt,it,rt,at,lt,st,ct,dt,ut,ht,pt,ft,gt,mt,vt,bt,yt,wt,Et,Dt,St,_t,Ct,Tt,xt,Ot,Mt,At,Nt,It,Pt,kt,Rt,Xt,Yt,Bt,Ft,Ht,jt,Lt,Kt,Wt,zt,Gt,Ut,qt,Vt,Zt,$t,Qt,Jt,to,eo,no,io,ro,ao,lo,so,co,uo,ho,po,fo,go,mo,vo,bo,yo,wo,Eo,Do,So,_o,Co,To,xo,Oo,Mo;function Ao(t,e){var o,n=Object.keys(t);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(t),e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)),n}function No(t){var e,o;for(e=1;e<arguments.length;e++)o=null!=arguments[e]?arguments[e]:{},e%2?Ao(Object(o),!0).forEach(function(e){Po(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Ao(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))});return t}function Io(t){return Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Io(t)}function Po(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function ko(){return ko=Object.assign||function(t){var e,o,n;for(e=1;e<arguments.length;e++)for(n in o=arguments[e])({}).hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t},ko.apply(this,arguments)}function Ro(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function Xo(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}function Yo(t,e,o){t.addEventListener(e,o,!tt&&at)}function Bo(t,e,o){t.removeEventListener(e,o,!tt&&at)}function Fo(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(o){return!1}return!1}}function Ho(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function jo(t,e,o,n){if(t){o=o||document;do{if(null!=e&&(">"===e[0]?t.parentNode===o&&Fo(t,e):Fo(t,e))||n&&t===o)return t;if(t===o)break}while(t=Ho(t))}return null}function Lo(t,e,o){if(t&&e)if(t.classList)t.classList[o?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(lt," ").replace(" "+e+" "," ");t.className=(n+(o?" "+e:"")).replace(lt," ")}}function Ko(t,e,o){var n=t&&t.style;if(n){if(void 0===o)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(o=t.currentStyle),void 0===e?o:o[e];e in n||-1!==e.indexOf("webkit")||(e="-webkit-"+e),n[e]=o+("string"==typeof o?"":"px")}}function Wo(t,e){var o,n,i="";if("string"==typeof t)i=t;else do{(o=Ko(t,"transform"))&&"none"!==o&&(i=o+" "+i)}while(!e&&(t=t.parentNode));return(n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix)&&new n(i)}function zo(t,e,o){if(t){var n=t.getElementsByTagName(e),i=0,r=n.length;if(o)for(;i<r;i++)o(n[i],i);return n}return[]}function Go(){return document.scrollingElement||document.documentElement}function Uo(t,e,o,n,i){var r,a,l,s,c,d,u,h,p,f,g;if(t.getBoundingClientRect||t===window){if(t!==window&&t.parentNode&&t!==Go()?(a=(r=t.getBoundingClientRect()).top,l=r.left,s=r.bottom,c=r.right,d=r.height,u=r.width):(a=0,l=0,s=window.innerHeight,c=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(e||o)&&t!==window&&(i=i||t.parentNode,!tt))do{if(i&&i.getBoundingClientRect&&("none"!==Ko(i,"transform")||o&&"static"!==Ko(i,"position"))){a-=(h=i.getBoundingClientRect()).top+parseInt(Ko(i,"border-top-width")),l-=h.left+parseInt(Ko(i,"border-left-width")),s=a+r.height,c=l+r.width;break}}while(i=i.parentNode);return n&&t!==window&&(f=(p=Wo(i||t))&&p.a,g=p&&p.d,p&&(s=(a/=g)+(d/=g),c=(l/=f)+(u/=f))),{top:a,left:l,bottom:s,right:c,width:u,height:d}}}function qo(t,e,o){for(var n,i=Jo(t,!0),r=Uo(t)[e];i;){if(n=Uo(i)[o],!("top"===o||"left"===o?r>=n:r<=n))return i;if(i===Go())break;i=Jo(i,!1)}return!1}function Vo(t,e,o,n){for(var i=0,r=0,a=t.children;r<a.length;){if("none"!==a[r].style.display&&a[r]!==R.ghost&&(n||a[r]!==R.dragged)&&jo(a[r],o.draggable,t,!1)){if(i===e)return a[r];i++}r++}return null}function Zo(t,e){for(var o=t.lastElementChild;o&&(o===R.ghost||"none"===Ko(o,"display")||e&&!Fo(o,e));)o=o.previousElementSibling;return o||null}function $o(t,e){var o=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===R.clone||e&&!Fo(t,e)||o++;return o}function Qo(t){var e,o,n,i=0,r=0,a=Go();if(t)do{o=(e=Wo(t)).a,n=e.d,i+=t.scrollLeft*o,r+=t.scrollTop*n}while(t!==a&&(t=t.parentNode));return[i,r]}function Jo(t,e){var o,n,i;if(!t||!t.getBoundingClientRect)return Go();o=t,n=!1;do{if((o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight)&&(i=Ko(o),o.clientWidth<o.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||o.clientHeight<o.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY))){if(!o.getBoundingClientRect||o===document.body)return Go();if(n||e)return o;n=!0}}while(o=o.parentNode);return Go()}function Dn(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function Cn(t,e){return function(){if(!st){var o=arguments;1===o.length?t.call(this,o[0]):t.apply(this,o),st=setTimeout(function(){st=void 0},e)}}}function Tn(t,e,o){t.scrollLeft+=e,t.scrollTop+=o}function In(t){var e=window.Polymer,o=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):o?o(t).clone(!0)[0]:t.cloneNode(!0)}function Pn(t,e){Ko(t,"position","absolute"),Ko(t,"top",e.top),Ko(t,"left",e.left),Ko(t,"width",e.width),Ko(t,"height",e.height)}function Xn(t){Ko(t,"position",""),Ko(t,"top",""),Ko(t,"left",""),Ko(t,"width",""),Ko(t,"height","")}function Yn(t){var e,o,n,i,r,a=t.sortable,l=t.rootEl,s=t.name,c=t.targetEl,d=t.cloneEl,u=t.toEl,h=t.fromEl,p=t.oldIndex,f=t.newIndex,g=t.oldDraggableIndex,m=t.newDraggableIndex,v=t.originalEvent,b=t.putSortable,y=t.extraEventProperties;if(a=a||l&&l[ct]){for(r in o=a.options,n="on"+s.charAt(0).toUpperCase()+s.substr(1),!window.CustomEvent||tt||et?(e=document.createEvent("Event")).initEvent(s,!0,!0):e=new CustomEvent(s,{bubbles:!0,cancelable:!0}),e.to=u||l,e.from=h||l,e.item=c||l,e.clone=d,e.oldIndex=p,e.newIndex=f,e.oldDraggableIndex=g,e.newDraggableIndex=m,e.originalEvent=v,e.pullMode=b?b.lastPutMode:void 0,i=No(No({},y),ht.getEventProperties(s,a)))e[r]=i[r];l&&l.dispatchEvent(e),o[n]&&o[n].call(a,e)}}function Bn(t){Yn(No({putSortable:Ot,cloneEl:Et,targetEl:gt,rootEl:bt,oldIndex:St,oldDraggableIndex:Ct,newIndex:_t,newDraggableIndex:Tt},t))}function R(t,e){var o,n,i,r,a;if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));for(n in this.el=t,this.options=e=ko({},e),t[ct]=this,o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction(){return Jt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==R.supportPointer&&"PointerEvent"in window&&!nt,emptyInsertThreshold:5},ht.initializePlugins(this,t,o),o)!(n in e)&&(e[n]=o[n]);for(i in no(e),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!e.forceFallback&&$t,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Yo(t,"pointerdown",this._onTapStart):(Yo(t,"mousedown",this._onTapStart),Yo(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Yo(t,"dragover",this),Yo(t,"dragenter",this)),Nt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ko(this,(a=[],{captureAnimationState(){a=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(t){var e,o;"none"!==Ko(t,"display")&&t!==R.ghost&&(a.push({target:t,rect:Uo(t)}),e=No({},a[a.length-1].rect),t.thisAnimationDuration&&(o=Wo(t,!0))&&(e.top-=o.f,e.left-=o.e),t.fromRect=e)})},addAnimationState(t){a.push(t)},removeAnimationState(t){a.splice(function(t,e){var o,n;for(o in t)if(t.hasOwnProperty(o))for(n in e)if(e.hasOwnProperty(n)&&e[n]===t[o][n])return Number(o);return-1}(a,{target:t}),1)},animateAll(t){var e,o,n=this;if(!this.options.animation)return clearTimeout(r),void("function"==typeof t&&t());e=!1,o=0,a.forEach(function(t){var i=0,r=t.target,a=r.fromRect,l=Uo(r),s=r.prevFromRect,c=r.prevToRect,d=t.rect,u=Wo(r,!0);u&&(l.top-=u.f,l.left-=u.e),r.toRect=l,r.thisAnimationDuration&&Dn(s,l)&&!Dn(a,l)&&(d.top-l.top)/(d.left-l.left)==(a.top-l.top)/(a.left-l.left)&&(i=function(t,e,o,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))*n.animation}(d,s,c,n.options)),Dn(l,a)||(r.prevFromRect=a,r.prevToRect=l,i||(i=n.options.animation),n.animate(r,d,l,i)),i&&(e=!0,o=Math.max(o,i),clearTimeout(r.animationResetTimer),r.animationResetTimer=setTimeout(function(){r.animationTime=0,r.prevFromRect=null,r.fromRect=null,r.prevToRect=null,r.thisAnimationDuration=null},i),r.thisAnimationDuration=i)}),clearTimeout(r),e?r=setTimeout(function(){"function"==typeof t&&t()},o):"function"==typeof t&&t(),a=[]},animate(t,e,o,n){if(n){Ko(t,"transition",""),Ko(t,"transform","");var i=Wo(this.el),r=i&&i.a,a=i&&i.d,l=(e.left-o.left)/(r||1),s=(e.top-o.top)/(a||1);t.animatingX=!!l,t.animatingY=!!s,Ko(t,"transform","translate3d("+l+"px,"+s+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(t),Ko(t,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),Ko(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){Ko(t,"transition",""),Ko(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},n)}}}))}function Fn(t,e,o,n,i,r,a,l){var s,c,d=t[ct],u=d.options.onMove;return!window.CustomEvent||tt||et?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=e,s.from=t,s.dragged=o,s.draggedRect=n,s.related=i||e,s.relatedRect=r||Uo(e),s.willInsertAfter=l,s.originalEvent=a,t.dispatchEvent(s),u&&(c=u.call(d,s,a)),c}function Hn(t){t.draggable=!1}function Ln(){Gt=!1}function Kn(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,o=e.length,n=0;o--;)n+=e.charCodeAt(o);return n.toString(36)}function Wn(t){return setTimeout(t,0)}function zn(t){return clearTimeout(t)}function Gn(){so.forEach(function(t){clearInterval(t.pid)}),so=[]}function Un(){clearInterval(mo)}function qn(){}function Vn(){}function ti(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart(t){var e=t.dragEl;yo=e},dragOverValid(t){var e,o,n,i=t.completed,r=t.target,a=t.onMove,l=t.activeSortable,s=t.changed,c=t.cancel;l.options.swap&&(e=this.sortable.el,o=this.options,r&&r!==e&&(n=yo,!1!==a(r)?(Lo(r,o.swapClass,!0),yo=r):yo=null,n&&n!==yo&&Lo(n,o.swapClass,!1)),s(),i(!0),c())},drop(t){var e,o,n,i,r,a,l=t.activeSortable,s=t.putSortable,c=t.dragEl,d=s||this.sortable,u=this.options;yo&&Lo(yo,u.swapClass,!1),yo&&(u.swap||s&&s.options.swap)&&c!==yo&&(d.captureAnimationState(),d!==l&&l.captureAnimationState(),o=yo,r=(e=c).parentNode,a=o.parentNode,r&&a&&!r.isEqualNode(o)&&!a.isEqualNode(e)&&(n=$o(e),i=$o(o),r.isEqualNode(a)&&n<i&&i++,r.insertBefore(o,r.children[n]),a.insertBefore(e,a.children[i])),d.animateAll(),d!==l&&l.animateAll())},nulling(){yo=null}},ko(t,{pluginName:"swap",eventProperties(){return{swapItem:yo}}})}function ei(){function t(t){for(var e in this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this));t.options.avoidImplicitDeselect||(t.options.supportPointer?Yo(document,"pointerup",this._deselectMultiDrag):(Yo(document,"mouseup",this._deselectMultiDrag),Yo(document,"touchend",this._deselectMultiDrag))),Yo(document,"keydown",this._checkKeyDown),Yo(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData(e,o){var n="";wo.length&&So===t?wo.forEach(function(t,e){n+=(e?", ":"")+t.textContent}):n=o.textContent,e.setData("Text",n)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal(t){var e=t.dragEl;xo=e},delayEnded(){this.isMultiDrag=~wo.indexOf(xo)},setupClone(t){var e,o=t.sortable,n=t.cancel;if(this.isMultiDrag){for(e=0;e<wo.length;e++)Eo.push(In(wo[e])),Eo[e].sortableIndex=wo[e].sortableIndex,Eo[e].draggable=!1,Eo[e].style["will-change"]="",Lo(Eo[e],this.options.selectedClass,!1),wo[e]===xo&&Lo(Eo[e],this.options.chosenClass,!1);o._hideClone(),n()}},clone(t){var e=t.sortable,o=t.rootEl,n=t.dispatchSortableEvent,i=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||wo.length&&So===e&&(Zn(!0,o),n("clone"),i()))},showClone(t){var e=t.cloneNowShown,o=t.rootEl,n=t.cancel;this.isMultiDrag&&(Zn(!1,o),Eo.forEach(function(t){Ko(t,"display","")}),e(),Mo=!1,n())},hideClone(t){var e=this,o=(t.sortable,t.cloneNowHidden),n=t.cancel;this.isMultiDrag&&(Eo.forEach(function(t){Ko(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}),o(),Mo=!0,n())},dragStartGlobal(t){t.sortable,!this.isMultiDrag&&So&&So.multiDrag._deselectMultiDrag(),wo.forEach(function(t){t.sortableIndex=$o(t)}),wo=wo.sort(function(t,e){return t.sortableIndex-e.sortableIndex}),To=!0},dragStarted(t){var e,o=this,n=t.sortable;this.isMultiDrag&&(this.options.sort&&(n.captureAnimationState(),this.options.animation&&(wo.forEach(function(t){t!==xo&&Ko(t,"position","absolute")}),e=Uo(xo,!1,!0,!0),wo.forEach(function(t){t!==xo&&Pn(t,e)}),Co=!0,_o=!0)),n.animateAll(function(){Co=!1,_o=!1,o.options.animation&&wo.forEach(function(t){Xn(t)}),o.options.sort&&$n()}))},dragOver(t){var e=t.target,o=t.completed,n=t.cancel;Co&&~wo.indexOf(e)&&(o(!1),n())},revert(t){var e=t.fromSortable,o=t.rootEl,n=t.sortable,i=t.dragRect;wo.length>1&&(wo.forEach(function(t){n.addAnimationState({target:t,rect:Co?Uo(t):i}),Xn(t),t.fromRect=i,e.removeAnimationState(t)}),Co=!1,function(t,e){wo.forEach(function(o,n){var i=e.children[o.sortableIndex+(t?Number(n):0)];i?e.insertBefore(o,i):e.appendChild(o)})}(!this.options.removeCloneOnHide,o))},dragOverCompleted(t){var e,o,n=t.sortable,i=t.isOwner,r=t.insertion,a=t.activeSortable,l=t.parentEl,s=t.putSortable,c=this.options;r&&(i&&a._hideClone(),_o=!1,c.animation&&wo.length>1&&(Co||!i&&!a.options.sort&&!s)&&(e=Uo(xo,!1,!0,!0),wo.forEach(function(t){t!==xo&&(Pn(t,e),l.appendChild(t))}),Co=!0),i||(Co||$n(),wo.length>1?(o=Mo,a._showClone(n),a.options.animation&&!Mo&&o&&Eo.forEach(function(t){a.addAnimationState({target:t,rect:Oo}),t.fromRect=Oo,t.thisAnimationDuration=null})):a._showClone(n)))},dragOverAnimationCapture(t){var e,o=t.dragRect,n=t.isOwner,i=t.activeSortable;wo.forEach(function(t){t.thisAnimationDuration=null}),i.options.animation&&!n&&i.multiDrag.isMultiDrag&&(Oo=ko({},o),e=Wo(xo,!0),Oo.top-=e.f,Oo.left-=e.e)},dragOverAnimationComplete(){Co&&(Co=!1,$n())},drop(t){var e,o,n,i,r,a,l,s,c,d=t.originalEvent,u=t.rootEl,h=t.parentEl,p=t.sortable,f=t.dispatchSortableEvent,g=t.oldIndex,m=t.putSortable,v=m||this.sortable;if(d){if(e=this.options,o=h.children,!To)if(e.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Lo(xo,e.selectedClass,!~wo.indexOf(xo)),~wo.indexOf(xo))wo.splice(wo.indexOf(xo),1),Do=null,Yn({sortable:p,rootEl:u,name:"deselect",targetEl:xo,originalEvent:d});else{if(wo.push(xo),Yn({sortable:p,rootEl:u,name:"select",targetEl:xo,originalEvent:d}),d.shiftKey&&Do&&p.el.contains(Do)){if(n=$o(Do),i=$o(xo),~n&&~i&&n!==i)for(i>n?(a=n,r=i):(a=i,r=n+1);a<r;a++)~wo.indexOf(o[a])||(Lo(o[a],e.selectedClass,!0),wo.push(o[a]),Yn({sortable:p,rootEl:u,name:"select",targetEl:o[a],originalEvent:d}))}else Do=xo;So=v}To&&this.isMultiDrag&&(Co=!1,(h[ct].options.sort||h!==u)&&wo.length>1&&(l=Uo(xo),s=$o(xo,":not(."+this.options.selectedClass+")"),!_o&&e.animation&&(xo.thisAnimationDuration=null),v.captureAnimationState(),_o||(e.animation&&(xo.fromRect=l,wo.forEach(function(t){if(t.thisAnimationDuration=null,t!==xo){var e=Co?Uo(t):l;t.fromRect=e,v.addAnimationState({target:t,rect:e})}})),$n(),wo.forEach(function(t){o[s]?h.insertBefore(t,o[s]):h.appendChild(t),s++}),g===$o(xo)&&(c=!1,wo.forEach(function(t){t.sortableIndex===$o(t)||(c=!0)}),c&&f("update"))),wo.forEach(function(t){Xn(t)}),v.animateAll()),So=v),(u===h||m&&"clone"!==m.lastPutMode)&&Eo.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)})}},nullingGlobal(){this.isMultiDrag=To=!1,Eo.length=0},destroyGlobal(){this._deselectMultiDrag(),Bo(document,"pointerup",this._deselectMultiDrag),Bo(document,"mouseup",this._deselectMultiDrag),Bo(document,"touchend",this._deselectMultiDrag),Bo(document,"keydown",this._checkKeyDown),Bo(document,"keyup",this._checkKeyUp)},_deselectMultiDrag(t){if(!(void 0!==To&&To||So!==this.sortable||t&&jo(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;wo.length;){var e=wo[0];Lo(e,this.options.selectedClass,!1),wo.shift(),Yn({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvent:t})}},_checkKeyDown(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},ko(t,{pluginName:"multiDrag",utils:{select(t){var e=t.parentNode[ct];e&&e.options.multiDrag&&!~wo.indexOf(t)&&(So&&So!==e&&(So.multiDrag._deselectMultiDrag(),So=e),Lo(t,e.options.selectedClass,!0),wo.push(t))},deselect(t){var e=t.parentNode[ct],o=wo.indexOf(t);e&&e.options.multiDrag&&~o&&(Lo(t,e.options.selectedClass,!1),wo.splice(o,1))}},eventProperties(){var t,e=this,o=[],n=[];return wo.forEach(function(t){var i;o.push({multiDragElement:t,index:t.sortableIndex}),i=Co&&t!==xo?-1:Co?$o(t,":not(."+e.options.selectedClass+")"):$o(t),n.push({multiDragElement:t,index:i})}),{items:(t=wo,function(t){if(Array.isArray(t))return Ro(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ro(t,e);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Ro(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),clones:[].concat(Eo),oldIndicies:o,newIndicies:n}},optionListeners:{multiDragKey(t){return"ctrl"===(t=t.toLowerCase())?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}function Zn(t,e){Eo.forEach(function(o,n){var i=e.children[o.sortableIndex+(t?Number(n):0)];i?e.insertBefore(o,i):e.appendChild(o)})}function $n(){wo.forEach(function(t){t!==xo&&t.parentNode&&t.parentNode.removeChild(t)})}tt=Xo(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),et=Xo(/Edge/i),ot=Xo(/firefox/i),nt=Xo(/safari/i)&&!Xo(/chrome/i)&&!Xo(/android/i),it=Xo(/iP(ad|od|hone)/i),rt=Xo(/chrome/i)&&Xo(/android/i),at={capture:!1,passive:!1},lt=/\s+/g,ct="Sortable"+(new Date).getTime(),dt=[],ut={initializeByDefault:!0},ht={mount(t){for(var e in ut)ut.hasOwnProperty(e)&&!(e in t)&&(t[e]=ut[e]);dt.forEach(function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),dt.push(t)},pluginEvent(t,e,o){var n,i=this;this.eventCanceled=!1,o.cancel=function(){i.eventCanceled=!0},n=t+"Global",dt.forEach(function(i){e[i.pluginName]&&(e[i.pluginName][n]&&e[i.pluginName][n](No({sortable:e},o)),e.options[i.pluginName]&&e[i.pluginName][t]&&e[i.pluginName][t](No({sortable:e},o)))})},initializePlugins(t,e,o){var n,i;for(n in dt.forEach(function(n){var i,r=n.pluginName;(t.options[r]||n.initializeByDefault)&&((i=new n(t,e,t.options)).sortable=t,i.options=t.options,t[r]=i,ko(o,i.defaults))}),t.options)t.options.hasOwnProperty(n)&&void 0!==(i=this.modifyOption(t,n,t.options[n]))&&(t.options[n]=i)},getEventProperties(t,e){var o={};return dt.forEach(function(n){"function"==typeof n.eventProperties&&ko(o,n.eventProperties.call(e[n.pluginName],t))}),o},modifyOption(t,e,o){var n;return dt.forEach(function(i){t[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[e]&&(n=i.optionListeners[e].call(t[i.pluginName],o))}),n}},pt=["evt"],ft=function(t,e,o){var n=arguments.length>2&&void 0!==o?o:{},i=n.evt,r=function(t,e){var o,n,i,r;if(null==t)return{};if(o=function(t,e){var o,n,i,r;if(null==t)return{};for(o={},n=Object.keys(t),r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(o[i]=t[i]);return o}(t,e),Object.getOwnPropertySymbols)for(r=Object.getOwnPropertySymbols(t),i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n]);return o}(n,pt);ht.pluginEvent.bind(R)(t,e,No({dragEl:gt,parentEl:mt,ghostEl:vt,rootEl:bt,nextEl:yt,lastDownEl:wt,cloneEl:Et,cloneHidden:Dt,dragStarted:Bt,putSortable:Ot,activeSortable:R.active,originalEvent:i,oldIndex:St,oldDraggableIndex:Ct,newIndex:_t,newDraggableIndex:Tt,hideGhostForTarget:io,unhideGhostForTarget:ro,cloneNowHidden(){Dt=!0},cloneNowShown(){Dt=!1},dispatchSortableEvent(t){Bn({sortable:e,name:t,originalEvent:i})}},r))},Mt=!1,At=!1,Nt=[],jt=!1,Lt=!1,zt=[],Gt=!1,Ut=[],qt="undefined"!=typeof document,Vt=it,Zt=et||tt?"cssFloat":"float",$t=qt&&!rt&&!it&&"draggable"in document.createElement("div"),Qt=function(){if(qt){if(tt)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Jt=function(t,e){var o,n=Ko(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=Vo(t,0,e),a=Vo(t,1,e),l=r&&Ko(r),s=a&&Ko(a),c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Uo(r).width,d=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Uo(a).width;return"flex"===n.display?"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal":"grid"===n.display?n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":r&&l.float&&"none"!==l.float?(o="left"===l.float?"left":"right",!a||"both"!==s.clear&&s.clear!==o?"horizontal":"vertical"):r&&("block"===l.display||"flex"===l.display||"table"===l.display||"grid"===l.display||c>=i&&"none"===n[Zt]||a&&"none"===n[Zt]&&c+d>i)?"vertical":"horizontal"},to=function(t,e,o){var n=o?t.left:t.top,i=o?t.right:t.bottom,r=o?t.width:t.height,a=o?e.left:e.top,l=o?e.right:e.bottom,s=o?e.width:e.height;return n===a||i===l||n+r/2===a+s/2},eo=function(t,e){var o;return Nt.some(function(n){var i,r,a,l=n[ct].options.emptyInsertThreshold;if(l&&!Zo(n))return i=Uo(n),r=t>=i.left-l&&t<=i.right+l,a=e>=i.top-l&&e<=i.bottom+l,r&&a?o=n:void 0}),o},no=function(t){var e,o;function n(t,e){return function(o,i,r,a){var l,s=o.options.group.name&&i.options.group.name&&o.options.group.name===i.options.group.name;return!(null!=t||!e&&!s)||null!=t&&!1!==t&&(e&&"clone"===t?t:"function"==typeof t?n(t(o,i,r,a),e)(o,i,r,a):(l=(e?o:i).options.group.name,!0===t||"string"==typeof t&&t===l||t.join&&t.indexOf(l)>-1))}}e={},(o=t.group)&&"object"==Io(o)||(o={name:o}),e.name=o.name,e.checkPull=n(o.pull,!0),e.checkPut=n(o.put),e.revertClone=o.revertClone,t.group=e},io=function(){!Qt&&vt&&Ko(vt,"display","none")},ro=function(){!Qt&&vt&&Ko(vt,"display","")},qt&&!rt&&document.addEventListener("click",function(t){if(At)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),At=!1,!1},!0),ao=function(t){var e,o,n;if(gt&&(t=t.touches?t.touches[0]:t,e=eo(t.clientX,t.clientY))){for(n in o={},t)t.hasOwnProperty(n)&&(o[n]=t[n]);o.target=o.rootEl=e,o.preventDefault=void 0,o.stopPropagation=void 0,e[ct]._onDragOver(o)}},lo=function(t){gt&&gt.parentNode[ct]._isOutsideThisEl(t.target)},R.prototype={constructor:R,_isOutsideThisEl(t){this.el.contains(t)||t===this.el||(Ft=null)},_getDirection(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,gt):this.options.direction},_onTapStart(t){if(t.cancelable){var e=this,o=this.el,n=this.options,i=n.preventOnFilter,r=t.type,a=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,l=(a||t).target,s=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,c=n.filter;if(function(t){var e,o,n;for(Ut.length=0,o=(e=t.getElementsByTagName("input")).length;o--;)(n=e[o]).checked&&Ut.push(n)}(o),!gt&&!(/mousedown|pointerdown/.test(r)&&0!==t.button||n.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!nt||!l||"SELECT"!==l.tagName.toUpperCase())&&!((l=jo(l,n.draggable,o,!1))&&l.animated||wt===l)){if(St=$o(l),Ct=$o(l,n.draggable),"function"==typeof c){if(c.call(this,t,l,this))return Bn({sortable:e,rootEl:s,name:"filter",targetEl:l,toEl:o,fromEl:o}),ft("filter",e,{evt:t}),void(i&&t.cancelable&&t.preventDefault())}else if(c&&(c=c.split(",").some(function(n){if(n=jo(s,n.trim(),o,!1))return Bn({sortable:e,rootEl:n,name:"filter",targetEl:l,fromEl:o,toEl:o}),ft("filter",e,{evt:t}),!0})))return void(i&&t.cancelable&&t.preventDefault());n.handle&&!jo(s,n.handle,o,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart(t,e,o){var n,i,r=this,a=r.el,l=r.options,s=a.ownerDocument;if(o&&!gt&&o.parentNode===a)if(i=Uo(o),bt=a,mt=(gt=o).parentNode,yt=gt.nextSibling,wt=o,xt=l.group,R.dragged=gt,It={target:gt,clientX:(e||t).clientX,clientY:(e||t).clientY},Xt=It.clientX-i.left,Yt=It.clientY-i.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,gt.style["will-change"]="all",n=function(){ft("delayEnded",r,{evt:t}),R.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!ot&&r.nativeDraggable&&(gt.draggable=!0),r._triggerDragStart(t,e),Bn({sortable:r,name:"choose",originalEvent:t}),Lo(gt,l.chosenClass,!0))},l.ignore.split(",").forEach(function(t){zo(gt,t.trim(),Hn)}),Yo(s,"dragover",ao),Yo(s,"mousemove",ao),Yo(s,"touchmove",ao),Yo(s,"mouseup",r._onDrop),Yo(s,"touchend",r._onDrop),Yo(s,"touchcancel",r._onDrop),ot&&this.nativeDraggable&&(this.options.touchStartThreshold=4,gt.draggable=!0),ft("delayStart",this,{evt:t}),!l.delay||l.delayOnTouchOnly&&!e||this.nativeDraggable&&(et||tt))n();else{if(R.eventCanceled)return void this._onDrop();Yo(s,"mouseup",r._disableDelayedDrag),Yo(s,"touchend",r._disableDelayedDrag),Yo(s,"touchcancel",r._disableDelayedDrag),Yo(s,"mousemove",r._delayedDragTouchMoveHandler),Yo(s,"touchmove",r._delayedDragTouchMoveHandler),l.supportPointer&&Yo(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(n,l.delay)}},_delayedDragTouchMoveHandler(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag(){gt&&Hn(gt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents(){var t=this.el.ownerDocument;Bo(t,"mouseup",this._disableDelayedDrag),Bo(t,"touchend",this._disableDelayedDrag),Bo(t,"touchcancel",this._disableDelayedDrag),Bo(t,"mousemove",this._delayedDragTouchMoveHandler),Bo(t,"touchmove",this._delayedDragTouchMoveHandler),Bo(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?Yo(document,"pointermove",this._onTouchMove):Yo(document,e?"touchmove":"mousemove",this._onTouchMove):(Yo(gt,"dragend",this),Yo(bt,"dragstart",this._onDragStart));try{document.selection?Wn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(o){}},_dragStarted(t,e){if(Mt=!1,bt&&gt){ft("dragStarted",this,{evt:e}),this.nativeDraggable&&Yo(document,"dragover",lo);var o=this.options;!t&&Lo(gt,o.dragClass,!1),Lo(gt,o.ghostClass,!0),R.active=this,t&&this._appendGhost(),Bn({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver(){var t,e;if(Pt){for(this._lastX=Pt.clientX,this._lastY=Pt.clientY,io(),e=t=document.elementFromPoint(Pt.clientX,Pt.clientY);t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Pt.clientX,Pt.clientY))!==e;)e=t;if(gt.parentNode[ct]._isOutsideThisEl(t),e)do{if(e[ct]&&e[ct]._onDragOver({clientX:Pt.clientX,clientY:Pt.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break;t=e}while(e=e.parentNode);ro()}},_onTouchMove(t){var e,o,n,i,r,a,l,s,c,d,u;if(It){if(o=(e=this.options).fallbackTolerance,n=e.fallbackOffset,i=t.touches?t.touches[0]:t,r=vt&&Wo(vt,!0),a=vt&&r&&r.a,l=vt&&r&&r.d,s=Vt&&Wt&&Qo(Wt),c=(i.clientX-It.clientX+n.x)/(a||1)+(s?s[0]-zt[0]:0)/(a||1),d=(i.clientY-It.clientY+n.y)/(l||1)+(s?s[1]-zt[1]:0)/(l||1),!R.active&&!Mt){if(o&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}vt&&(r?(r.e+=c-(kt||0),r.f+=d-(Rt||0)):r={a:1,b:0,c:0,d:1,e:c,f:d},u="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")"),Ko(vt,"webkitTransform",u),Ko(vt,"mozTransform",u),Ko(vt,"msTransform",u),Ko(vt,"transform",u),kt=c,Rt=d,Pt=i),t.cancelable&&t.preventDefault()}},_appendGhost(){if(!vt){var t=this.options.fallbackOnBody?document.body:bt,e=Uo(gt,!0,Vt,!0,t),o=this.options;if(Vt){for(Wt=t;"static"===Ko(Wt,"position")&&"none"===Ko(Wt,"transform")&&Wt!==document;)Wt=Wt.parentNode;Wt!==document.body&&Wt!==document.documentElement?(Wt===document&&(Wt=Go()),e.top+=Wt.scrollTop,e.left+=Wt.scrollLeft):Wt=Go(),zt=Qo(Wt)}Lo(vt=gt.cloneNode(!0),o.ghostClass,!1),Lo(vt,o.fallbackClass,!0),Lo(vt,o.dragClass,!0),Ko(vt,"transition",""),Ko(vt,"transform",""),Ko(vt,"box-sizing","border-box"),Ko(vt,"margin",0),Ko(vt,"top",e.top),Ko(vt,"left",e.left),Ko(vt,"width",e.width),Ko(vt,"height",e.height),Ko(vt,"opacity","0.8"),Ko(vt,"position",Vt?"absolute":"fixed"),Ko(vt,"zIndex","100000"),Ko(vt,"pointerEvents","none"),R.ghost=vt,t.appendChild(vt),Ko(vt,"transform-origin",Xt/parseInt(vt.style.width)*100+"% "+Yt/parseInt(vt.style.height)*100+"%")}},_onDragStart(t,e){var o=this,n=t.dataTransfer,i=o.options;ft("dragStart",this,{evt:t}),R.eventCanceled?this._onDrop():(ft("setupClone",this),R.eventCanceled||((Et=In(gt)).removeAttribute("id"),Et.draggable=!1,Et.style["will-change"]="",this._hideClone(),Lo(Et,this.options.chosenClass,!1),R.clone=Et),o.cloneId=Wn(function(){ft("clone",o),R.eventCanceled||(o.options.removeCloneOnHide||bt.insertBefore(Et,gt),o._hideClone(),Bn({sortable:o,name:"clone"}))}),!e&&Lo(gt,i.dragClass,!0),e?(At=!0,o._loopId=setInterval(o._emulateDragOver,50)):(Bo(document,"mouseup",o._onDrop),Bo(document,"touchend",o._onDrop),Bo(document,"touchcancel",o._onDrop),n&&(n.effectAllowed="move",i.setData&&i.setData.call(o,n,gt)),Yo(document,"drop",o),Ko(gt,"transform","translateZ(0)")),Mt=!0,o._dragStartId=Wn(o._dragStarted.bind(o,e,t)),Yo(document,"selectstart",o),Bt=!0,nt&&Ko(document.body,"user-select","none"))},_onDragOver(t){var e,o,n,i,r,a,l,s,c,d,u,h,p,f,g,m,v,b,y=this.el,w=t.target,E=this.options,D=E.group,S=R.active,_=xt===D,C=E.sort,T=Ot||S,x=this,O=!1;if(!Gt){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),w=jo(w,E.draggable,y,!0),M("dragOver"),R.eventCanceled)return O;if(gt.contains(t.target)||w.animated&&w.animatingX&&w.animatingY||x._ignoreWhileAnimating===w)return N(!1);if(At=!1,S&&!E.disabled&&(_?C||(n=mt!==bt):Ot===this||(this.lastPutMode=xt.checkPull(this,S,gt,t))&&D.checkPut(this,S,gt,t))){if(i="vertical"===this._getDirection(t,w),e=Uo(gt),M("dragOverValid"),R.eventCanceled)return O;if(n)return mt=bt,A(),this._hideClone(),M("revert"),R.eventCanceled||(yt?bt.insertBefore(gt,yt):bt.appendChild(gt)),N(!0);if(!(r=Zo(y,E.draggable))||function(t,e,o){var n=Uo(Zo(o.el,o.options.draggable));return e?t.clientX>n.right+10||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+10}(t,i,this)&&!r.animated){if(r===gt)return N(!1);if(r&&y===t.target&&(w=r),w&&(o=Uo(w)),!1!==Fn(bt,y,gt,e,w,o,t,!!w))return A(),r&&r.nextSibling?y.insertBefore(gt,r.nextSibling):y.appendChild(gt),mt=y,I(),N(!0)}else if(r&&function(t,e,o){var n=Uo(Vo(o.el,0,o.options,!0));return e?t.clientX<n.left-10||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-10||t.clientY<n.bottom&&t.clientX<n.left}(t,i,this)){if((a=Vo(y,0,E,!0))===gt)return N(!1);if(o=Uo(w=a),!1!==Fn(bt,y,gt,e,w,o,t,!1))return A(),y.insertBefore(gt,a),mt=y,I(),N(!0)}else if(w.parentNode===y){if(o=Uo(w),c=gt.parentNode!==y,d=!to(gt.animated&&gt.toRect||e,w.animated&&w.toRect||o,i),u=i?"top":"left",p=(h=qo(w,"top","top")||qo(gt,"top","top"))?h.scrollTop:void 0,Ft!==w&&(s=o[u],jt=!1,Lt=!d&&E.invertSwap||c),l=function(t,e,o,n,i,r,a,l){var s=n?t.clientY:t.clientX,c=n?o.height:o.width,d=n?o.top:o.left,u=n?o.bottom:o.right,h=!1;if(!a)if(l&&Kt<c*i){if(!jt&&(1===Ht?s>d+c*r/2:s<u-c*r/2)&&(jt=!0),jt)h=!0;else if(1===Ht?s<d+Kt:s>u-Kt)return-Ht}else if(s>d+c*(1-i)/2&&s<u-c*(1-i)/2)return function(t){return $o(gt)<$o(t)?1:-1}(e);return(h=h||a)&&(s<d+c*r/2||s>u-c*r/2)?s>d+c/2?1:-1:0}(t,w,o,i,d?1:E.swapThreshold,null==E.invertedSwapThreshold?E.swapThreshold:E.invertedSwapThreshold,Lt,Ft===w),0!==l){g=$o(gt);do{g-=l,f=mt.children[g]}while(f&&("none"===Ko(f,"display")||f===vt))}if(0===l||f===w)return N(!1);if(Ft=w,Ht=l,m=w.nextElementSibling,v=!1,!1!==(b=Fn(bt,y,gt,e,w,o,t,v=1===l)))return 1!==b&&-1!==b||(v=1===b),Gt=!0,setTimeout(Ln,30),A(),v&&!m?y.appendChild(gt):w.parentNode.insertBefore(gt,v?m:w),h&&Tn(h,0,p-h.scrollTop),mt=gt.parentNode,void 0===s||Lt||(Kt=Math.abs(s-Uo(w)[u])),I(),N(!0)}if(y.contains(gt))return N(!1)}return!1}function M(r,a){ft(r,x,No({evt:t,isOwner:_,axis:i?"vertical":"horizontal",revert:n,dragRect:e,targetRect:o,canSort:C,fromSortable:T,target:w,completed:N,onMove(o,n){return Fn(bt,y,gt,e,o,Uo(o),t,n)},changed:I},a))}function A(){M("dragOverAnimationCapture"),x.captureAnimationState(),x!==T&&T.captureAnimationState()}function N(e){return M("dragOverCompleted",{insertion:e}),e&&(_?S._hideClone():S._showClone(x),x!==T&&(Lo(gt,Ot?Ot.options.ghostClass:S.options.ghostClass,!1),Lo(gt,E.ghostClass,!0)),Ot!==x&&x!==R.active?Ot=x:x===R.active&&Ot&&(Ot=null),T===x&&(x._ignoreWhileAnimating=w),x.animateAll(function(){M("dragOverAnimationComplete"),x._ignoreWhileAnimating=null}),x!==T&&(T.animateAll(),T._ignoreWhileAnimating=null)),(w===gt&&!gt.animated||w===y&&!w.animated)&&(Ft=null),E.dragoverBubble||t.rootEl||w===document||(gt.parentNode[ct]._isOutsideThisEl(t.target),!e&&ao(t)),!E.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),O=!0}function I(){_t=$o(gt),Tt=$o(gt,E.draggable),Bn({sortable:x,name:"change",toEl:y,newIndex:_t,newDraggableIndex:Tt,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents(){Bo(document,"mousemove",this._onTouchMove),Bo(document,"touchmove",this._onTouchMove),Bo(document,"pointermove",this._onTouchMove),Bo(document,"dragover",ao),Bo(document,"mousemove",ao),Bo(document,"touchmove",ao)},_offUpEvents(){var t=this.el.ownerDocument;Bo(t,"mouseup",this._onDrop),Bo(t,"touchend",this._onDrop),Bo(t,"pointerup",this._onDrop),Bo(t,"touchcancel",this._onDrop),Bo(document,"selectstart",this)},_onDrop(t){var e=this.el,o=this.options;_t=$o(gt),Tt=$o(gt,o.draggable),ft("drop",this,{evt:t}),mt=gt&&gt.parentNode,_t=$o(gt),Tt=$o(gt,o.draggable),R.eventCanceled||(Mt=!1,Lt=!1,jt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),zn(this.cloneId),zn(this._dragStartId),this.nativeDraggable&&(Bo(document,"drop",this),Bo(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),nt&&Ko(document.body,"user-select",""),Ko(gt,"transform",""),t&&(Bt&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),vt&&vt.parentNode&&vt.parentNode.removeChild(vt),(bt===mt||Ot&&"clone"!==Ot.lastPutMode)&&Et&&Et.parentNode&&Et.parentNode.removeChild(Et),gt&&(this.nativeDraggable&&Bo(gt,"dragend",this),Hn(gt),gt.style["will-change"]="",Bt&&!Mt&&Lo(gt,Ot?Ot.options.ghostClass:this.options.ghostClass,!1),Lo(gt,this.options.chosenClass,!1),Bn({sortable:this,name:"unchoose",toEl:mt,newIndex:null,newDraggableIndex:null,originalEvent:t}),bt!==mt?(_t>=0&&(Bn({rootEl:mt,name:"add",toEl:mt,fromEl:bt,originalEvent:t}),Bn({sortable:this,name:"remove",toEl:mt,originalEvent:t}),Bn({rootEl:mt,name:"sort",toEl:mt,fromEl:bt,originalEvent:t}),Bn({sortable:this,name:"sort",toEl:mt,originalEvent:t})),Ot&&Ot.save()):_t!==St&&_t>=0&&(Bn({sortable:this,name:"update",toEl:mt,originalEvent:t}),Bn({sortable:this,name:"sort",toEl:mt,originalEvent:t})),R.active&&(null!=_t&&-1!==_t||(_t=St,Tt=Ct),Bn({sortable:this,name:"end",toEl:mt,originalEvent:t}),this.save())))),this._nulling()},_nulling(){ft("nulling",this),bt=gt=mt=vt=yt=Et=wt=Dt=It=Pt=Bt=_t=Tt=St=Ct=Ft=Ht=Ot=xt=R.dragged=R.ghost=R.clone=R.active=null,Ut.forEach(function(t){t.checked=!0}),Ut.length=kt=Rt=0},handleEvent(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":gt&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray(){for(var t,e=[],o=this.el.children,n=0,i=o.length,r=this.options;n<i;n++)jo(t=o[n],r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||Kn(t));return e},sort(t,e){var o={},n=this.el;this.toArray().forEach(function(t,e){var i=n.children[e];jo(i,this.options.draggable,n,!1)&&(o[t]=i)},this),e&&this.captureAnimationState(),t.forEach(function(t){o[t]&&(n.removeChild(o[t]),n.appendChild(o[t]))}),e&&this.animateAll()},save(){var t=this.options.store;t&&t.set&&t.set(this)},closest(t,e){return jo(t,e||this.options.draggable,this.el,!1)},option(t,e){var o,n=this.options;if(void 0===e)return n[t];o=ht.modifyOption(this,t,e),n[t]=void 0!==o?o:e,"group"===t&&no(n)},destroy(){ft("destroy",this);var t=this.el;t[ct]=null,Bo(t,"mousedown",this._onTapStart),Bo(t,"touchstart",this._onTapStart),Bo(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Bo(t,"dragover",this),Bo(t,"dragenter",this)),[].forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Nt.splice(Nt.indexOf(this.el),1),this.el=t=null},_hideClone(){if(!Dt){if(ft("hideClone",this),R.eventCanceled)return;Ko(Et,"display","none"),this.options.removeCloneOnHide&&Et.parentNode&&Et.parentNode.removeChild(Et),Dt=!0}},_showClone(t){if("clone"===t.lastPutMode){if(Dt){if(ft("showClone",this),R.eventCanceled)return;gt.parentNode!=bt||this.options.group.revertClone?yt?bt.insertBefore(Et,yt):bt.appendChild(Et):bt.insertBefore(Et,gt),this.options.group.revertClone&&this.animate(gt,Et),Ko(Et,"display",""),Dt=!1}}else this._hideClone()}},qt&&Yo(document,"touchmove",function(t){(R.active||Mt)&&t.cancelable&&t.preventDefault()}),R.utils={on:Yo,off:Bo,css:Ko,find:zo,is(t,e){return!!jo(t,e,t,!1)},extend(t,e){if(t&&e)for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t},throttle:Cn,closest:jo,toggleClass:Lo,clone:In,index:$o,nextTick:Wn,cancelNextTick:zn,detectDirection:Jt,getChild:Vo},R.get=function(t){return t[ct]},R.mount=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(R.utils=No(No({},R.utils),t.utils)),ht.mount(t)})},R.create=function(t,e){return new R(t,e)},R.version="1.15.0",so=[],ho=!1,vo=Cn(function(t,e,o,n){var i,r,a,l,s,c,d,u,h,p,f,g,m,v,b,y,w,E,D,S,_,C,T,x,O,M,A;if(e.scroll){i=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,l=e.scrollSpeed,s=Go(),c=!1,uo!==o&&(uo=o,Gn(),co=e.scroll,d=e.scrollFn,!0===co&&(co=Jo(o,!0))),u=0,h=co;do{if(g=(f=Uo(p=h)).top,m=f.bottom,v=f.left,b=f.right,y=f.width,w=f.height,E=void 0,D=void 0,S=p.scrollWidth,_=p.scrollHeight,C=Ko(p),T=p.scrollLeft,x=p.scrollTop,p===s?(E=y<S&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),D=w<_&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(E=y<S&&("auto"===C.overflowX||"scroll"===C.overflowX),D=w<_&&("auto"===C.overflowY||"scroll"===C.overflowY)),O=E&&(Math.abs(b-i)<=a&&T+y<S)-(Math.abs(v-i)<=a&&!!T),M=D&&(Math.abs(m-r)<=a&&x+w<_)-(Math.abs(g-r)<=a&&!!x),!so[u])for(A=0;A<=u;A++)so[A]||(so[A]={});so[u].vx==O&&so[u].vy==M&&so[u].el===p||(so[u].el=p,so[u].vx=O,so[u].vy=M,clearInterval(so[u].pid),0==O&&0==M||(c=!0,so[u].pid=setInterval((function(){var e,o;n&&0===this.layer&&R.active._onTouchMove(go),e=so[this.layer].vy?so[this.layer].vy*l:0,o=so[this.layer].vx?so[this.layer].vx*l:0,"function"==typeof d&&"continue"!==d.call(R.dragged.parentNode[ct],o,e,t,go,so[this.layer].el)||Tn(so[this.layer].el,o,e)}).bind({layer:u}),24))),u++}while(e.bubbleScroll&&h!==s&&(h=Jo(h,!1)));ho=c}},30),bo=function(t){var e,o,n,i=t.originalEvent,r=t.putSortable,a=t.dragEl,l=t.activeSortable,s=t.dispatchSortableEvent,c=t.hideGhostForTarget,d=t.unhideGhostForTarget;i&&(e=r||l,c(),o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,n=document.elementFromPoint(o.clientX,o.clientY),d(),e&&!e.el.contains(n)&&(s("spill"),this.onSpill({dragEl:a,putSortable:r})))},qn.prototype={startIndex:null,dragStart(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill(t){var e,o=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState(),(e=Vo(this.sortable.el,this.startIndex,this.options))?this.sortable.el.insertBefore(o,e):this.sortable.el.appendChild(o),this.sortable.animateAll(),n&&n.animateAll()},drop:bo},ko(qn,{pluginName:"revertOnSpill"}),Vn.prototype={onSpill(t){var e=t.dragEl,o=t.putSortable||this.sortable;o.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),o.animateAll()},drop:bo},ko(Vn,{pluginName:"removeOnSpill"}),wo=[],Eo=[],_o=!1,Co=!1,To=!1,R.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted(t){var e=t.originalEvent;this.sortable.nativeDraggable?Yo(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Yo(document,"pointermove",this._handleFallbackAutoScroll):e.touches?Yo(document,"touchmove",this._handleFallbackAutoScroll):Yo(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop(){this.sortable.nativeDraggable?Bo(document,"dragover",this._handleAutoScroll):(Bo(document,"pointermove",this._handleFallbackAutoScroll),Bo(document,"touchmove",this._handleFallbackAutoScroll),Bo(document,"mousemove",this._handleFallbackAutoScroll)),Un(),Gn(),clearTimeout(st),st=void 0},nulling(){go=uo=co=ho=mo=po=fo=null,so.length=0},_handleFallbackAutoScroll(t){this._handleAutoScroll(t,!0)},_handleAutoScroll(t,e){var o,n=this,i=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,a=document.elementFromPoint(i,r);if(go=t,e||this.options.forceAutoScrollFallback||et||tt||nt)vo(t,this.options,a,e),o=Jo(a,!0),!ho||mo&&i===po&&r===fo||(mo&&Un(),mo=setInterval(function(){var a=Jo(document.elementFromPoint(i,r),!0);a!==o&&(o=a,Gn()),vo(t,n.options,a,e)},10),po=i,fo=r);else{if(!this.options.bubbleScroll||Jo(a,!0)===Go())return void Gn();vo(t,this.options,Jo(a,!1),!1)}}},ko(t,{pluginName:"scroll",initializeByDefault:!0})}),R.mount(Vn,qn);export default R;export{ei as MultiDrag,R as Sortable,ti as Swap};
//# sourceMappingURL=https://raw.githubusercontent.com/BellCubeDev/site-testing/deployment/included_node_modules/sortablejs/modular/sortable.esm.js.map